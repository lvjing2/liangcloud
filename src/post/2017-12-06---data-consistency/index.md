---
path: "/blog"
date: "2017-12-02T12:13:33.962Z"
title: "分布式系统的数据一致性问题"
tags: 
    - "cloud"
draft: false
---

在大规模分布式存储系统中，数据一致性是非常艰难的一个话题。要开展这个话题，首先必须拜读的就是Eric Brewer教授提出的CAP猜想。

所谓CAP，就是指一个分布式系统最多只能同时满足一致性(Consistency)、可用性(Availability)、分区容错性(Partition tolerance)，这三项中的其中两项，这里的一致性是指强一致性。对于分布式系统的用户来说，其实最关心的还是数据的可用性和一致性，分区容错性一般分布式系统的设计者考虑的较多。对于用户来说在可用性和一致性之间，又根据不同的应用场景在这之间进行权衡。比如银行交易系统，就会需要牺牲可用性来达到强一致性。

- 一致性模型
  -  强一致性
  - 弱一致性
  - 最终一致性
    - 因果一致性
      > 进程A更新之后通知进程B更新完成，那么B的访问操作将会得到更新后的值。但对于没有因果关系的进程C则只能是遵循最终一致性原则。
    - 读已所写一致性
      > 这是因果一致性的特殊形式，一个进程总可以读到自己更新后的数据。 
    - 会话一致性
      > 这又是读已所写一致性的特殊形式，同一个进程在访问储存系统的同一个会话内，系统保证进程能获取更新后的内容。
    - 单调读一致性
      > 如果一个进程已经读取到比如最新的值，那么该进程就不会读取到老版本的值。
    - 单调写一致性
      > 系统保证对同一个进行的写操作串行化。
      
- 数据一致性的算法
  - 二阶提交协议（Two Phase Commitment Protocol）
  - 三阶提交协议（Three Phase Commitment Protocol）
  > 然而不管是二阶还是三阶都无法完全解决数据的一致性问题，所以我们主要来研究下paxos算法。
  - Paxos算法



- OceanBese中的实现

- HBase


refs
http://www.csdn.net/article/2015-04-02/2824402
